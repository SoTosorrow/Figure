<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>demo01</title>
</head>
<body>
 <video id="myVideo" src="../assets/1.mp4" loop="loop" autoplay="autoplay" controls="controls"></video>
 <br>
 <button id="snapScreen">截屏</button>
 <canvas id="mycanvas" width="400" height="240"></canvas>
 <script>
   var mycanvas = document.getElementById('mycanvas').getContext('2d'),
     snapScreen = document.getElementById('snapScreen'),
     video = document.getElementById('myVideo');
   snapScreen.onclick = function () {
     mycanvas.drawImage(video, 0, 0, 400, 240);
   }
 </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>demo01</title>
</head>
<body>
 <video id="myVideo" width="500" height="400" src=""></video>
 <button id="snapScreen">截屏</button>
 <canvas id="myCanvas" width="500" height="400"></canvas>
 <script>
  var myVideo = document.getElementById('myVideo');
  navigator.mediaDevices.getUserMedia({
    video: true
  }).then(function (mediaStream) {
    myVideo.srcObject = mediaStream;
    myVideo.onloadedmetadata = function () {
      myVideo.controls = "controls";
      myVideo.play();
    }
  });
  var snapScreen = document.getElementById('snapScreen'),
      canvas = document.getElementById('myCanvas').getContext('2d');
  snapScreen.onclick = function () {
    canvas.drawImage(myVideo, 0, 0);
  }
 </script>
</body>
</html>
